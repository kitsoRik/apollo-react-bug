(this["webpackJsonpapiko-marketplace"]=this["webpackJsonpapiko-marketplace"]||[]).push([[0],Array(74).concat([function(e,t,a){e.exports=a.p+"static/media/loading.ab2515ed.svg"},function(e,t,a){e.exports=a.p+"static/media/view-password.90ad6eb5.svg"},function(e,t,a){e.exports=a.p+"static/media/view-password-checked.ce9aa323.svg"},,,,,,,function(e,t,a){e.exports=a(174)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"HOST",(function(){return v})),a.d(n,"userIconBaseUrl",(function(){return E})),a.d(n,"productsImageBaseUrl",(function(){return b})),a.d(n,"restoreRequest",(function(){return C})),a.d(n,"checkRestoreKey",(function(){return O})),a.d(n,"restorePassword",(function(){return N}));var r=a(0),c=a.n(r),l=a(41),o=a.n(l),i=(a(88),a(89),a(16)),u=a(4),s=(a(90),a(33)),d=a(6),m=(a(91),function(e){var t=e.className,a=e.darkMode,n=Object(d.a)(e,["className","darkMode"]),r=a?"#fff":"#262525";return c.a.createElement("svg",Object.assign({className:"apiko-logo ".concat(t)},n,{width:"102",height:"42",viewBox:"0 0 102 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),c.a.createElement("path",{className:"apiko-logo-triangle",d:"M17.0382 26.9963C15.6757 28.7668 13.5618 29.904 11.1805 29.904H11.1551C8.76105 29.904 6.63446 28.7409 5.28465 26.9575L11.1678 21.0129L17.0382 26.9963Z",fill:"#349A89"}),c.a.createElement("path",{className:"apiko-logo-letter",clipRule:"evenodd",d:"M52.0569 3.39877C52.0569 4.13538 52.3243 4.78154 52.8464 5.31138C53.3813 5.84123 54.0052 6.11261 54.7311 6.11261C55.4569 6.11261 56.0936 5.84123 56.6157 5.31138C57.1378 4.78154 57.4052 4.13538 57.4052 3.39877C57.4052 2.66215 57.1378 2.016 56.6157 1.48615C56.0936 0.956306 55.4569 0.684921 54.7311 0.684921C54.0052 0.684921 53.3685 0.956306 52.8464 1.48615C52.3243 2.016 52.0569 2.66215 52.0569 3.39877ZM52.6682 30.24C52.6682 30.8345 52.8592 31.3385 53.2539 31.7391C53.6487 32.1397 54.1453 32.3335 54.7311 32.3335C55.3551 32.3335 55.8517 32.1397 56.2337 31.7391C56.6157 31.3514 56.8067 30.8474 56.8067 30.24V11.8892C56.8067 11.256 56.6157 10.752 56.2337 10.3643C55.8517 9.97661 55.3551 9.78277 54.7311 9.78277C54.1453 9.78277 53.6487 9.97661 53.2539 10.3643C52.8592 10.752 52.6682 11.256 52.6682 11.8892V30.24Z",fill:r}),c.a.createElement("path",{className:"apiko-logo-letter",d:"M79.3206 30.6018C79.3206 31.2092 79.0786 31.7132 78.5948 32.1268C78.1873 32.4628 77.7543 32.6178 77.2959 32.6178C76.6974 32.6178 76.2135 32.3723 75.8315 31.8812L68.1146 22.1889L66.0772 23.9982V30.3046C66.0772 30.912 65.8989 31.4031 65.5296 31.7649C65.1603 32.1397 64.6764 32.3206 64.0906 32.3206C63.4921 32.3206 63.0082 32.1397 62.6517 31.7649C62.2824 31.3902 62.1041 30.912 62.1041 30.3046V2.13231C62.1041 1.52493 62.2824 1.03385 62.6517 0.672002C63.021 0.297233 63.4921 0.11631 64.0906 0.11631C64.6891 0.11631 65.173 0.297233 65.5296 0.672002C65.8989 1.04677 66.0772 1.53785 66.0772 2.13231V18.9194L75.9461 9.97662C76.3026 9.61477 76.7228 9.44677 77.2067 9.44677C77.7798 9.44677 78.2382 9.66646 78.5948 10.1058C78.9513 10.4677 79.1169 10.8942 79.1169 11.3852C79.1169 11.9668 78.9004 12.432 78.4674 12.7938L70.9925 19.5526L78.8749 29.3742C79.1678 29.6972 79.3206 30.1108 79.3206 30.6018Z",fill:r}),c.a.createElement("path",{className:"apiko-logo-letter",fillRule:"evenodd",clipRule:"evenodd",d:"M96.5753 11.088C98.2689 12.0572 99.5933 13.4142 100.561 15.1458C101.516 16.8775 102 18.8548 102 21.0905C102 23.2874 101.516 25.2517 100.574 26.9834C99.6315 28.7151 98.3071 30.072 96.6135 31.0412C94.9198 32.0105 92.9843 32.5015 90.8195 32.5015C88.6547 32.5015 86.7191 32.0234 85.0127 31.0412C83.3064 30.072 81.9693 28.7151 81.027 26.9834C80.0719 25.2517 79.6007 23.2874 79.6007 21.0905C79.6007 18.8548 80.0846 16.8775 81.027 15.1458C81.982 13.4142 83.3064 12.0702 85.0127 11.088C86.7191 10.1188 88.6547 9.62769 90.8195 9.62769C92.9588 9.62769 94.8816 10.1188 96.5753 11.088ZM82.9371 21.0517C82.9371 25.4714 86.4644 29.0382 90.8067 29.0382C95.1491 29.0382 98.6637 25.4714 98.6764 21.0517C98.6764 16.632 95.1491 13.0652 90.8067 13.0652C86.4517 13.0652 82.9371 16.6449 82.9371 21.0517Z",fill:r}),c.a.createElement("path",{className:"apiko-logo-letter",fillRule:"evenodd",clipRule:"evenodd",d:"M43.0921 11.088C44.7858 12.0572 46.1101 13.4142 47.0779 15.1458C48.033 16.8775 48.5168 18.8548 48.5041 21.0905C48.5041 23.2874 48.0202 25.2517 47.0779 26.9834C46.1356 28.7151 44.8112 30.072 43.1176 31.0412C41.424 32.0105 39.4884 32.5015 37.3236 32.5015C35.1588 32.5015 33.2232 32.0234 31.5169 31.0412C31.0712 30.7957 30.6509 30.5114 30.2562 30.2012V39.8935C30.2562 40.5268 30.0652 41.0308 29.6831 41.4185C29.3011 41.8062 28.8045 42 28.1805 42C27.5948 42 27.0981 41.8062 26.7034 41.4185C26.3086 41.0308 26.1176 40.5268 26.1176 39.8935V21.0905C26.1176 18.8548 26.6015 16.8775 27.5438 15.1458C28.4989 13.4142 29.8232 12.0702 31.5296 11.088C32.994 10.248 34.6494 9.76985 36.4704 9.65354H36.5341H36.5723C36.8015 9.64062 37.0562 9.62769 37.2981 9.62769H37.3363C39.4757 9.62769 41.3985 10.1188 43.0921 11.088ZM29.4539 21.0517C29.4539 25.4714 32.9813 29.0382 37.3236 29.0382C41.6659 29.0382 45.1933 25.4714 45.1933 21.0517C45.1933 16.632 41.6659 13.0652 37.3236 13.0652C32.9685 13.0652 29.4539 16.6449 29.4539 21.0517Z",fill:r}),c.a.createElement("path",{className:"apiko-logo-letter",fillRule:"evenodd",clipRule:"evenodd",d:"M16.8854 11.1268C18.579 12.1348 19.9161 13.5046 20.9094 15.2492C21.9026 16.9938 22.3865 18.9323 22.3738 21.0775V30.2788C22.3738 30.8732 22.1828 31.3772 21.788 31.7778C21.406 32.1785 20.9094 32.3723 20.3109 32.3723C19.7251 32.3723 19.2285 32.1785 18.8337 31.7778C18.439 31.3902 18.2479 30.8862 18.2479 30.2788V30.2012C17.8659 30.5114 17.4457 30.7828 17.0127 31.0412C15.3191 32.0105 13.3835 32.5015 11.2187 32.5015C9.05393 32.5015 7.11835 32.0234 5.41198 31.0412C3.70562 30.072 2.36854 28.7151 1.42622 26.9834C1.41985 26.9769 1.41667 26.9672 1.41348 26.9575C1.4103 26.9478 1.40712 26.9382 1.40075 26.9317L1.36255 26.9188C0.993258 26.1951 0.700375 25.4455 0.483895 24.6702C0.464794 24.5926 0.445693 24.5183 0.426592 24.444C0.407491 24.3697 0.38839 24.2954 0.369288 24.2178C0.362921 24.1855 0.356554 24.1565 0.350187 24.1274C0.34382 24.0983 0.337453 24.0692 0.331086 24.0369C0.28015 23.8431 0.241949 23.6363 0.203747 23.4295L0.203745 23.4295C0.203745 23.4166 0.200562 23.4037 0.197378 23.3908C0.194195 23.3778 0.191011 23.3649 0.191011 23.352C0.152809 23.1194 0.114607 22.8868 0.0891386 22.6542V22.6283C0.0636704 22.3828 0.0382022 22.1372 0.0254682 21.8788V21.8658C0.0127341 21.6074 0 21.336 0 21.0775C0 18.9323 0.483895 16.9938 1.46442 15.2492C2.44494 13.5046 3.79476 12.1348 5.51386 11.1268C7.23296 10.1317 9.13034 9.62769 11.2187 9.62769C13.3071 9.62769 15.1918 10.1188 16.8854 11.1268ZM3.3236 21.0517C3.3236 25.4714 6.85094 29.0382 11.1933 29.0382C15.5356 29.0382 19.0629 25.4714 19.0629 21.0517C19.0629 16.632 15.5483 13.0652 11.1933 13.0652C6.8382 13.0652 3.3236 16.6449 3.3236 21.0517Z",fill:r}))}),p=(a(92),a(7)),f=(a(93),a(69)),v="http://rostiktest.pw:3500",g=a.n(f).a.create({baseURL:"".concat(v,"/api"),withCredentials:!0}),E="".concat(v,"/static/icons/users/"),b="".concat(v,"/static/photos/products/"),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e){return setTimeout((function(){return e()}),1e3)})).then((function(){return g.post(e,t)})).then((function(e){return e.data})).catch(console.log)},C=function(e){return h("/auth/restoreRequest",{email:e})},O=function(e){return h("/auth/checkRestoreKey",{key:e})},N=function(e,t){return h("/auth/restorePassword",{password:e,leaveDevices:t})},y=function(e){var t=e.src,a=e.fullName,n=void 0===a?"":a,r=e.className,l=e.local,o=void 0!==l&&l,i=Object(d.a)(e,["src","fullName","className","local"]),u=n.split(" ").map((function(e){return e[0]}));return t?c.a.createElement("div",Object.assign({className:"user-icon ".concat(null!==r&&void 0!==r?r:"")},i),c.a.createElement("img",{src:"".concat(o?"":E).concat(t),alt:"User icon"})):c.a.createElement("div",Object.assign({className:"user-icon ".concat(null!==r&&void 0!==r?r:"")},i),c.a.createElement("span",{style:{background:"orange",color:"black"}},u))},j=(a(110),a(111),function(e){var t=e.className,a=e.value,n=Object(d.a)(e,["className","value"]);return c.a.createElement("button",Object.assign({className:"button-outlined ".concat(null!==t&&void 0!==t?t:"")},n),a)}),w=(a(112),function(e){var t=e.className,a=e.value,n=e.disabled,r=void 0!==n&&n,l=e.darkMode,o=void 0===l?null:l,i=Object(d.a)(e,["className","value","disabled","darkMode"]);return c.a.createElement("button",Object.assign({className:"button-transparent ".concat(null!==t&&void 0!==t?t:""),disabled:r,"dark-mode":o?"true":null},i),a)}),k=(a(113),function(e){var t=e.className,a=e.value,n=e.disabled,r=void 0!==n&&n,l=Object(d.a)(e,["className","value","disabled"]);return c.a.createElement("button",Object.assign({className:"button-martinique ".concat(null!==t&&void 0!==t?t:""),disabled:r},l),a)}),S=(a(114),{Outlined:j,Transparent:w,Martinique:k,Default:function(e){var t=e.className,a=e.style,n=e.value,r=e.disabled,l=Object(d.a)(e,["className","style","value","disabled"]);return c.a.createElement("button",Object.assign({className:"button-default ".concat(null!==t&&void 0!==t?t:""),style:a,disabled:!!r||null},l),n)}}),x=a(5),I=a(8);function P(){var e=Object(p.a)(["\n    query {\n        currentUser {\n            id\n            fullName\n            email\n            iconName\n        }\n    }\n"]);return P=function(){return e},e}var T=Object(I.a)(P());function R(){var e=Object(p.a)(["\n    mutation {\n        unlogin\n    }\n"]);return R=function(){return e},e}var F=function(e){var t=Object.assign({},e),a=Object(s.f)(),n=Object(x.c)(T).data,r=Object(x.a)(),l=Object(x.b)($),o=Object(u.a)(l,1)[0];if(!n)return null;var d=n.currentUser,m=d.fullName,p=d.email,f=d.iconName;return c.a.createElement("div",Object.assign({className:"user-panel"},t,{tabIndex:"0"}),c.a.createElement("div",{className:"user-panel-upper"},c.a.createElement(y,{fullName:m,src:f}),c.a.createElement("div",{className:"user-panel-upper-info"},c.a.createElement("span",{className:"user-panel-upper-info-name"},m),c.a.createElement("span",{className:"user-panel-upper-info-email"},p),c.a.createElement(i.b,{className:"user-panel-upper-info-profile-button",to:"/profile"},"Profile"))),c.a.createElement(S.Transparent,{className:"user-panel-edit-profile-button",onClick:function(){return a.push("/edit-profile")},value:"Edit profile"}),c.a.createElement(S.Transparent,{className:"user-panel-logout-button",onClick:function(){return o().then((function(){r.writeQuery({query:T,data:{currentUser:null}})}))},value:"Logout"}))},$=Object(I.a)(R()),L=a(74),D=a.n(L),U=(a(120),function(e){var t=e.style,a=e.darken,n=void 0===a||a,r=e.className,l=Object(d.a)(e,["style","darken","className"]);return c.a.createElement("div",Object.assign({className:"modal-loading ".concat(r),style:t,darken:n?"true":null,onClick:function(e){return e.preventDefault()}},l),c.a.createElement("img",{src:D.a,alt:"Loading"}))}),A=(a(121),function(e){var t=e.className,a=e.filed,n=void 0!==a&&a,r=e.color,l=void 0===r?"#349A89":r,o=Object(d.a)(e,["className","filed","color"]);return c.a.createElement("svg",Object.assign({className:"heart-icon ".concat(null!==t&&void 0!==t?t:""),x:"0px",y:"0px",viewBox:"0 0 512 512"},o),c.a.createElement("g",null,c.a.createElement("path",{d:"M256,468.8c-7.9,0-15.3-3-20.8-8.4L55.6,284.3c-27.2-26.7-42.2-62.2-42.2-100c0-37.8,15-73.3,42.2-100\r c27.2-26.7,63.5-41.4,102.2-41.4c33.9,0,66.9,11.7,92.7,32.9l5.4,4.4l5.4-4.4c25.8-21.2,58.8-32.9,92.7-32.9\r c38.7,0,75,14.7,102.2,41.4c27.2,26.7,42.2,62.2,42.2,100c0,37.8-15,73.3-42.2,100L276.8,460.4C271.2,465.8,263.8,468.8,256,468.8z",fill:n?l:"none"}),c.a.createElement("path",{d:"M354.1,51.3c36.4,0,70.6,13.9,96.3,39c25.6,25.1,39.7,58.5,39.7,94s-14.1,68.9-39.7,94L270.8,454.3c-3.9,3.9-9.2,6-14.9,6\r c-5.6,0-10.9-2.1-14.9-6L61.6,278.2c-25.6-25.1-39.7-58.5-39.7-94c0-35.5,14.1-68.9,39.7-94c25.6-25.2,59.8-39,96.3-39\r c32,0,63,11,87.3,31l10.8,8.9l10.8-8.9C291.1,62.3,322.1,51.3,354.1,51.3 M354.1,34.3c-34.9,0-69.8,11.6-98.1,34.9\r c-28.3-23.2-63.2-34.8-98.1-34.8c-39.2,0-78.3,14.6-108.2,43.9c-28.9,28.3-44.8,66-44.8,106.1S20.8,262,49.7,290.4l179.5,176.1\r c7.4,7.3,17.1,10.9,26.8,10.9s19.4-3.6,26.8-10.9l179.5-176.1c28.9-28.3,44.8-66,44.8-106.1c0-40.1-15.9-77.8-44.8-106.1\r C432.4,48.9,393.2,34.3,354.1,34.3L354.1,34.3z",fill:n?"none":"#B7B7B7"})))}),V=(a(122),a(75)),M=a.n(V),_=a(76),H=a.n(_),B=a(21),Q=a.n(B),q=(a(124),function(e){var t=e.className,a=e.type,n=void 0===a?"big":a,l=e.icon,o=(e.children,e.name),i=e.loading,s=void 0!==i&&i,m=e.multiline,p=void 0!==m&&m,f=e.autoCompleteOptions,v=e.autoCompleteOptionsWhenEmptyHeader,g=void 0===v?null:v,E=e.autoCompleteOptionsWhenEmpty,b=void 0===E?null:E,h=e.value,C=void 0===h?"":h,O=e.password,N=e.error,y=e.errorIfTouched,j=e.onChange,w=void 0===j?function(){}:j,k=e.onValueChange,S=void 0===k?function(){}:k,x=Object(d.a)(e,["className","type","icon","children","name","loading","multiline","autoCompleteOptions","autoCompleteOptionsWhenEmptyHeader","autoCompleteOptionsWhenEmpty","value","password","error","errorIfTouched","onChange","onValueChange"]),I=Object(r.useState)(!1),P=Object(u.a)(I,2),T=P[0],R=P[1],F=Object(r.useState)(!1),$=Object(u.a)(F,2),L=$[0],D=$[1],A=Object(r.useState)(-1),V=Object(u.a)(A,2),_=V[0],B=V[1],q=Object(r.useState)(!1),G=Object(u.a)(q,2),Z=G[0],W=G[1],z=y&&T;Object(r.useEffect)((function(){B(-1)}),[C]);var K=function(e){switch(e.key){case"ArrowDown":if(e.preventDefault(),_===(null===f||void 0===f?void 0:f.length)-1||_===(null===b||void 0===b?void 0:b.length)-1){B(0);break}B(_+1);break;case"ArrowUp":if(-1===_)break;e.preventDefault(),B(_-1);break;case"Enter":if(!f&&!b)return;var t;if(e.preventDefault(),""===C){var a=b[_];if(!a)return;var n=a.props;t=n.textValue,n.onSelect&&n.onSelect()}else{var r=f[_];if(!r)return;var c=r.props;t=c.textValue,c.onSelect&&c.onSelect()}S(t),Y.current.value=t,B(-1)}},Y=c.a.createRef(),J=(null!==f&&void 0!==f?f:[]).filter((function(e){var t=e.props.textValue;return new RegExp(C).test(t)&&C!==t})),X=null;return X=p?c.a.createElement("textarea",Object.assign({ref:Y,style:{paddingLeft:"".concat(l?40:13,"px")},className:"text-field-",error:z||N?"true":"false",type:O&&!L?"password":"text",onBlur:function(){return R(!0)},value:C,name:o,onKeyDown:K,onChange:function(e){S(e.target.value),w(e),S(e.target.value)}},x)):c.a.createElement("input",Object.assign({ref:Y,style:{paddingLeft:"".concat(l?40:13,"px")},className:"text-field-",error:z||N?"true":"false",type:O&&!L?"password":"text",onBlur:function(){return R(!0)},value:C,name:o,onKeyDown:K,onChange:function(e){S(e.target.value),w(e),S(e.target.value)}},x)),c.a.createElement("div",{className:"text-field ".concat(t),type:n,onFocus:function(){return W(!0)},onBlur:Q.a.debounce((function(){return W(!1)}),100),tabIndex:"1"},l&&c.a.createElement("div",{className:"text-field-icon"},l),X,O&&c.a.createElement("img",{className:"text-field-view-password",alt:"View password",src:L?H.a:M.a,onClick:function(){return D(!L)}}),0!==J.length&&Z&&""!==C&&c.a.createElement("div",{className:"text-field-auto-complete-container",tabIndex:"1"},J.map((function(e,t){return c.a.cloneElement(e,{active:_===t,compareValue:C})}))),b&&0!==b.length&&Z&&""===C&&c.a.createElement("div",{className:"text-field-auto-complete-container",tabIndex:"1"},g,b.map((function(e,t){return c.a.cloneElement(e,{active:_===t})}))),s&&c.a.createElement("div",{className:"text-field-loading"},c.a.createElement(U,{darken:!1})))}),G=q,Z=(a(125),a(126),function(e){var t=e.className,a=e.value,n=(e.textValue,e.active),r=e.icon,l=e.compareValue,o=void 0===l?"":l,i=e.Component,u=void 0===i?null:i,s=e.onSelect,m=void 0===s?function(){}:s,p=Object(d.a)(e,["className","value","textValue","active","icon","compareValue","Component","onSelect"]);if(u)return c.a.createElement(u,Object.assign({value:a,active:n,compareValue:o},p));var f=new RegExp("(.*)(".concat(o,")(.*)")).exec(a);return c.a.createElement("div",{className:"text-field-autocomplete-option ".concat(null!==t&&void 0!==t?t:""),active:n?"true":null,onClick:m},r&&c.a.createElement("div",{className:"text-field-autocomplete-option-icon"},r),c.a.createElement("div",{className:"text-field-autocomplete-option-text"},c.a.createElement("span",null,f[1]),c.a.createElement("b",null,f[2]),c.a.createElement("span",null,f[3])))}),W=(a(127),function(e){var t=e.children,a=Object(d.a)(e,["children"]);return c.a.createElement("div",Object.assign({className:"icon"},a),t)});function z(){var e=Object(p.a)(["\nquery location($locationPattern: String!) {\n        locations (name: $locationPattern, limit: 10) {\n          id\n          name\n        }\n      }\n"]);return z=function(){return e},e}var K=Object(I.a)(z()),Y=function(e){var t,a=e.onLocationIdChange,n=void 0===a?function(){}:a,l=(e.locationId,e.withIcon),o=Object(d.a)(e,["onLocationIdChange","locationId","withIcon"]),i=Object(r.useState)(""),s=Object(u.a)(i,2),m=s[0],p=s[1],f=Object(r.useState)(""),v=Object(u.a)(f,2),g=v[0],E=v[1],b=Object(x.c)(K,{variables:{locationPattern:m},skip:g===m}),h=b.data,C=b.loading;return c.a.createElement(G,Object.assign({placeholder:"Location (Ternopil, Kiev)",value:m,autoCompleteOptions:null===h||void 0===h||null===(t=h.locations)||void 0===t?void 0:t.map((function(e){return c.a.createElement(Z,{onSelect:function(){return t=e.id,a=e.name,E(a),void n(t);var t,a},key:e.id,value:e.name,textValue:e.name})})),loading:C,onValueChange:function(e){p(e)},icon:l&&c.a.createElement(W,null,c.a.createElement("svg",{width:"13",height:"19",viewBox:"0 0 13 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.22222 0C2.91694 0 0 2.80662 0 5.77778C0 11.7808 5.9422 18.3683 5.77778 18.7778C6.27255 18.7295 6.38357 18.7778 7.22222 18.7778C6.62727 18.7706 6.73016 18.7295 7.22222 18.7778C7.06051 18.3604 13 11.6634 13 5.77778C13 2.80662 10.0831 0 7.22222 0ZM7.22222 8.66667C5.30418 8.66667 4.33333 7.69815 4.33333 7.22222C4.33333 5.30426 5.30418 4.33333 7.22222 4.33333C7.69582 4.33333 8.66667 5.30426 8.66667 7.22222C8.66667 7.69815 7.69582 8.66667 7.22222 8.66667Z",fill:"#5C5C5C"})))},o))},J=Y,X=function(e){var t=e.color,a=void 0===t?"#5C5C5C":t;return c.a.createElement("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M7.23782 13.1718C10.4389 13.1718 12.9756 10.5265 12.9756 7.33592C12.9756 4.14538 10.4389 1.5 7.23782 1.5C4.03674 1.5 1.5 4.14538 1.5 7.33592C1.5 10.5265 4.03674 13.1718 7.23782 13.1718Z",fill:"white",fillOpacity:"0.01",stroke:a,strokeWidth:"3"}),c.a.createElement("path",{d:"M10.7646 11.6667L14.7577 15.7522",stroke:a,strokeWidth:"3",strokeLinecap:"round"}))},ee=n,te=a(31),ae=function(e){return{type:"CHANGE_PRODUCTS_SEARCH_QUERY",payload:{changes:e}}},ne=function(){return function(e,t){e({type:"SEARCH_PRODUCTS",payload:{searchQuery:t().products.searchQuery}})}},re=function(){var e,t;return null!==(e=null===(t=JSON.parse(localStorage.getItem("PRODUCTS_TITLE_QUERY")))||void 0===t?void 0:t.reverse())&&void 0!==e?e:[]};function ce(){var e=Object(p.a)(["\nquery productsHint($title: String, $limit: Int) {\n    products(title: $title, limit: $limit) {\n    id\n    title\n    imageName\n    }\n}"]);return ce=function(){return e},e}var le=Object(te.b)((function(e){var t=e.products,a=t.searchQuery;return{title:a.title,locationId:a.locationId,searchProductsHintQuery:t.searchProductsHintQuery}}),{changeProductsSearchQuery:ae,searchProducts:ne,searchProductsHint:function(){return function(e,t){e({type:"SEARCH_PRODUCTS_HINT",payload:{title:t().products.searchQuery.title}})}}})((function(e){var t=e.title,a=e.locationId,n=e.searchProductsHintQuery,l=e.searchProductsHint,o=e.changeProductsSearchQuery,i=e.searchProducts,u=Object(x.c)(ie,{variables:{title:n.title,limit:6},skip:""===n.title}),s=u.data,d=u.loading,m=Object(r.useCallback)(Q.a.debounce((function(){return l()}),700),[]);return c.a.createElement("div",{className:"home-page-header-panel"},c.a.createElement(G,{value:t,loading:d,autoCompleteOptions:null===s||void 0===s?void 0:s.products.map((function(e){return c.a.createElement(Z,{key:e.id,Component:oe,textValue:e.title,value:e})})),autoCompleteOptionsWhenEmptyHeader:c.a.createElement("div",{className:"home-page-header-panel-text-field-autocomplete-recent-products-header"},c.a.createElement("span",null,"Recent searches"),c.a.createElement(S.Transparent,{style:{color:"#349A89"},value:"Clear All",onClick:function(){return alert(1)}})),autoCompleteOptionsWhenEmpty:re().map((function(e){return c.a.createElement(Z,{className:"home-page-header-panel-text-field-autocomplete-recent-products-item",key:e,textValue:e,value:e,icon:c.a.createElement(X,{color:"#CECECE",style:{width:"17px",height:"18px"}})})})),onValueChange:function(e){o({title:e}),m()},placeholder:"Search products by name",icon:c.a.createElement(X,{style:{width:"17px",height:"18px"}})}),c.a.createElement(J,{onLocationIdChange:function(e){return o({locationId:e})},locationId:a}),c.a.createElement(S.Martinique,{style:{textTransform:"uppercase"},value:"Search",onClick:function(){i(),""!==t&&function(e){localStorage.setItem("PRODUCTS_TITLE_QUERY",JSON.stringify(re().reverse().filter((function(t){return t!==e})).concat([e])))}(t)}}))})),oe=function(e){var t=e.value,a=e.active,n=Object(s.f)(),r=t.id,l=t.title,o=t.imageName,i=t.price;return c.a.createElement("div",{className:"home-page-header-panel-text-field-autocomplete-products",active:a?"true":null,onClick:function(){return n.push("/products/".concat(r))}},c.a.createElement("div",{className:"home-page-header-panel-text-field-autocomplete-products-icon"},c.a.createElement("img",{src:"".concat(ee.productsImageBaseUrl).concat(o),alt:"Product"})),c.a.createElement("span",null,l),c.a.createElement("span",null,"$",i))},ie=Object(I.a)(ce()),ue=le,se=function(){var e,t=Object(s.f)(),a=!["/login","/register"].find((function(e){return e===t.location.pathname})),n=!!["/","/profile","/saved-items"].find((function(e){return e.startsWith(t.location.pathname)}))||t.location.pathname.startsWith("/products"),l=Object(r.useState)(!1),o=Object(u.a)(l,2),d=o[0],p=o[1],f=Object(x.c)(T),v=!f.loading&&!(null===(e=f.data)||void 0===e?void 0:e.currentUser),g=!f.loading&&f.data.currentUser,E=f.loading||!1;return c.a.createElement("div",{className:"header-wrapper","dark-mode":a?"true":null},c.a.createElement("header",{className:"header"},c.a.createElement(i.b,{to:"/"},c.a.createElement(m,{darkMode:a,className:"header__apiko-logo"})),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement(S.Default,{className:"header-sell-button",value:"Sell",onClick:function(){return t.push("/add-product")}}),v&&c.a.createElement(S.Transparent,{className:"header-login-button",darkMode:a?"true":null,value:"Login",onClick:function(){return t.push("/login")}}),(g||E)&&c.a.createElement("div",{className:"header-profile",tabIndex:1,onBlur:function(){return setTimeout((function(){return p(!1)}),100)}},g&&c.a.createElement(y,{src:f.data.currentUser.iconName,fullName:f.data.currentUser.fullName,onClick:function(){return p(!d)}}),d&&c.a.createElement(F,null),E&&c.a.createElement(U,{style:{height:"48px",width:"48px",borderRadius:"50%"}})),c.a.createElement(A,{filed:"/saved-items"===t.location.pathname,color:"#fff",onClick:function(){return t.push("/saved-items")},className:"header-heart","dark-mode":a?"true":null,width:"24",height:"24"}),n&&c.a.createElement("div",{className:"header-minor-panel"},c.a.createElement(ue,null))))},de=(a(128),function(){switch(Object(s.f)().location.pathname){case"/add-product":case"/edit-profile":return null}return c.a.createElement("footer",null,"Copyright (c) 2020. Privacy Policy")}),me=a(49),pe=(a(129),a(130),function(e){var t=e.type,a=void 0===t?"info":t,n=e.value;return c.a.createElement("div",{className:"snackbar-notification",type:a},c.a.createElement("span",null,n))}),fe=[],ve=1,ge=function(e){},Ee=function(e){},be=function(e){},he=function(e){},Ce=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){ge=function(e){n(fe=[].concat(Object(me.a)(fe),[e])),setTimeout((function(){n(fe=fe.filter((function(t){return t.id!==e.id})))}),4e3)},Ee=function(e){return ge({id:ve++,type:"info",value:e})},be=function(e){return ge({id:ve++,type:"warning",value:e})},he=function(e){return ge({id:ve++,type:"error",value:e})},function(e,t){switch(e){case"info":return Ee(t);case"warning":return be(t);case"error":return he(t);default:throw new Error("Unknown type for notify")}}}),[]),c.a.createElement("div",{className:"snackbar"},a.map((function(e){var t=e.id,a=e.type,n=e.value;return c.a.createElement(pe,{key:t,type:a,value:n})})))},Oe=a(11);a(131),a(132);function Ne(){var e=Object(p.a)(["\nquery {\n    savedProducts(page: 1, limit: 10) {\n        id\n        title\n        price\n        saved\n        imageName\n    }\n    savedProductsCount\n}"]);return Ne=function(){return e},e}function ye(){var e=Object(p.a)(['\nquery ProductsQuery($title: String!, $locationId: ID, $category: String!, $priceFrom: Float!, $priceTo: Float!, $page: Int, $limit: Int) {\n    products(\n        title: $title, \n        location: "", \n        locationId: $locationId, \n        category: $category, \n        priceFrom: $priceFrom, \n        priceTo: $priceTo, \n        page: $page, \n        limit: $limit\n    ) {\n  id\n  title\n  price\n  saved\n  imageName\n}\nproductsCount(\n    title: $title, \n    location: "", \n    locationId: $locationId, \n    category: $category, \n    priceFrom: $priceFrom, \n    priceTo: $priceTo, \n    page: $page, \n    limit: $limit\n)\n  }\n']);return ye=function(){return e},e}var je=Object(I.a)(ye()),we=Object(I.a)(Ne()),ke=function(e){var t=Object.assign({},e);return c.a.createElement("svg",Object.assign({version:"1.1",id:"\u0428\u0430\u0440_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 400",enableBackground:"new 0 0 512 400",xmlSpace:"preserve"},t),c.a.createElement("image",{display:"none",overflow:"visible",width:"200",height:"200",xlinkHref:"D:\\Downloads\\images.png",transform:"matrix(2.56 0 0 2.56 0 0)"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#000000",strokeMiterlimit:"10",d:"M70.5,200.5"}),c.a.createElement("path",{fill:"none",stroke:"#000000",strokeWidth:"13",strokeMiterlimit:"10",d:"M415.8,278.5H92.2c-11.9,0-21.7-9.8-21.7-21.7V66.2\r c0-11.9,9.8-21.7,21.7-21.7h75.4c6.8,0,13.3-2.4,18.5-6.7L212.2,16c2.7-2.3,6.1-3.5,9.6-3.5h67.7c3.7,0,7.2,1.3,10,3.8l23.7,21\r c5.3,4.7,12.1,7.3,19.2,7.3h73.3c11.9,0,21.7,9.8,21.7,21.7v190.6C437.5,268.7,427.7,278.5,415.8,278.5z"}),c.a.createElement("path",{stroke:"#000000",strokeWidth:"2",strokeMiterlimit:"10",d:"M138,99h-35c-2.2,0-4-1.8-4-4V77c0-2.2,1.8-4,4-4h35\r c2.2,0,4,1.8,4,4v18C142,97.2,140.2,99,138,99z"}),c.a.createElement("path",{stroke:"#000000",strokeWidth:"2",strokeMiterlimit:"10",d:"M138,48h-17c-7.1,0-13-5.8-13-13v0c0-7.1,5.8-13,13-13h17\r c7.1,0,13,5.8,13,13v0C151,42.2,145.2,48,138,48z"}),c.a.createElement("circle",{fill:"none",stroke:"#000000",strokeWidth:"13",strokeMiterlimit:"10",cx:"254",cy:"162",r:"33"}),c.a.createElement("circle",{fill:"none",stroke:"#000000",strokeWidth:"13",strokeMiterlimit:"10",cx:"254",cy:"162",r:"82.5"}),c.a.createElement("text",{transform:"matrix(1.07 0 0 1 61.998 329.4336)"},c.a.createElement("tspan",{x:"0",y:"0",fontFamily:"'Arial-BoldMT'",fontSize:"52.1155px"},"NO IMAGE "),c.a.createElement("tspan",{x:"0",y:"62.5",fontFamily:"'Arial-BoldMT'",fontSize:"52.1155px"},"      AVAILABLE")))};function Se(){var e=Object(p.a)(["\n    mutation changeProductState($id: ID!, $state: Boolean!) {\n        changeSavedStateOfProduct(id: $id, state: $state)\n    }\n"]);return Se=function(){return e},e}function xe(){var e=Object(p.a)(["\n                fragment saveProduct on Product {\n                    saved\n                }\n            "]);return xe=function(){return e},e}var Ie=function(e){var t=e.className,a=e.product,n=e.onChangeSavedState,r=void 0===n?function(){}:n,l=Object(d.a)(e,["className","product","onChangeSavedState"]),o=a.id,s=a.title,m=a.price,p=a.imageName,f=a.changingSaveState,v=a.saved,g=void 0!==v&&v,E=Object(x.a)(),b=Object(x.c)(T).data,h=Object(x.b)(Pe,{optimisticResponse:{changeSavedStateOfProduct:!g}}),C=Object(u.a)(h,2),O=C[0],N=C[1].loading;return c.a.createElement("div",Object.assign({className:"product-card ".concat(null!==t&&void 0!==t?t:"")},l),c.a.createElement("div",{className:"product-card-icon"},p&&c.a.createElement("img",{src:"".concat(ee.productsImageBaseUrl).concat(p),alt:"Product icon"}),!p&&c.a.createElement(ke,{style:{height:"80%",width:"100%"}})),c.a.createElement("div",{className:"product-card-info"},c.a.createElement("div",null,c.a.createElement(i.b,{className:"product-card-info-title",to:"/products/".concat(o)},s)),c.a.createElement("span",{className:"product-card-info-price"},m)),c.a.createElement("div",{className:"product-card-like"},c.a.createElement(A,{filed:g,onClick:function(){if(N)return be("Wait before next saved.");if(!(null===b||void 0===b?void 0:b.currentUser))return be("Please, login before saving product.");r(!g),O({variables:{id:o,state:!g}});try{var e,t=E.readQuery({query:we});e=g?t.savedProducts.filter((function(e){return e.id!==o})):t.savedProducts.concat([Object(Oe.a)({},a,{saved:!g})]),E.writeQuery({query:we,data:{savedProducts:e}})}catch(n){}E.writeFragment({id:o,fragment:Object(I.a)(xe()),data:{saved:!g}})}}),f&&c.a.createElement(U,{style:{padding:"6px"}})))},Pe=Object(I.a)(Se()),Te=(a(133),a(134),function(e){var t=e.className,a=void 0===t?"":t,n=e.children,r=Object(d.a)(e,["className","children"]);return c.a.createElement("div",Object.assign({className:"form ".concat(a)},r),n)}),Re=(a(135),function(e){var t=e.value,a=e.onClick,n=e.disabled,r=e.className,l=e.isCurrent;return c.a.createElement("button",{className:"pagination-sector ".concat(null!==r&&void 0!==r?r:""),onClick:a,disabled:!!n||null,current:l?"true":null},c.a.createElement("span",null,t))}),Fe=function(e){var t=e.className,a=e.pages,n=void 0===a?0:a,r=e.page,l=void 0===r?16:r,o=e.onChangePage,i=void 0===o?function(e){}:o,u=Q.a.times(5,(function(e){return l+e-2})).filter((function(e){return e>0&&e<=n})),s=Q.a.times(3,(function(e){return e+1})).filter((function(e,t){return t<5&&e>0&&e<=n&&!u.find((function(t){return t<e||t===e}))})),d=Q.a.times(3,(function(e){return n-5+e+3})).filter((function(e,t){return t<5&&e>0&&e<=n&&!u.find((function(t){return t>e||t===e}))})),m=function(e){e!==l&&i(e)};return c.a.createElement(Te,{className:"pagination ".concat(null!==t&&void 0!==t?t:"")},c.a.createElement(Re,{disabled:1===l,className:"pagination-sector-prev",value:"<",onClick:function(){return m(l-1)}}),null===s||void 0===s?void 0:s.map((function(e){return c.a.createElement(Re,{key:e,isCurrent:l===e,value:e,onClick:function(){return m(e)}})})),0!==s.length&&c.a.createElement("span",null,"..."),u.map((function(e){return c.a.createElement(Re,{key:e,isCurrent:l===e,value:e,onClick:function(){return m(e)}})})),0!==d.length&&c.a.createElement("span",null,"..."),null===d||void 0===d?void 0:d.map((function(e){return c.a.createElement(Re,{key:e,isCurrent:l===e,value:e,onClick:function(){return m(e)}})})),c.a.createElement(Re,{disabled:l>=n,className:"pagination-sector-next",value:">",onClick:function(){return m(l+1)}}))},$e=(a(136),a(137),a(138),function(e){e.value;var t=e.icon,a=e.children,n=Object(d.a)(e,["value","icon","children"]);return c.a.createElement("div",Object.assign({className:"combobox-option"},n),t&&c.a.createElement("div",{className:"combobox-option-icon"},t),c.a.createElement("div",null,a))}),Le=function(e){var t=e.value,a=e.children,n=void 0===a?[]:a,l=e.onChange,o=Object(d.a)(e,["value","children","onChange"]),i=Object(r.useState)(!1),s=Object(u.a)(i,2),m=s[0],p=s[1],f=function(e){p(!m)},v=[];n.forEach((function(e){e.type===$e&&v.push(e)}));var g=null;return v=c.a.Children.map(v,(function(e){return e.props.value===t&&(g=c.a.cloneElement(e,Object(Oe.a)({},e.props,{onClick:f}))),c.a.cloneElement(e,Object(Oe.a)({},e.props,{onClick:function(){return function(e){l&&l(e),p(!1)}(e.props.value)}}))})),c.a.createElement("div",Object.assign({tabIndex:0,className:"combobox",onBlur:function(){return p(!1)}},o),g,m&&c.a.createElement("div",{className:"combobox-options"},v))},De=function(){return c.a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1429 0H14.5714C15.9126 0 17 1.08739 17 2.42857V4.85714C17 6.19832 15.9126 7.28571 14.5714 7.28571H12.1429C10.8017 7.28571 9.71429 6.19832 9.71429 4.85714V2.42857C9.71429 1.08739 10.8017 0 12.1429 0ZM12.1429 9.71429H14.5714C15.9126 9.71429 17 10.8017 17 12.1429V14.5714C17 15.9126 15.9126 17 14.5714 17H12.1429C10.8017 17 9.71429 15.9126 9.71429 14.5714V12.1429C9.71429 10.8017 10.8017 9.71429 12.1429 9.71429ZM4.85714 9.71429H2.42857C1.08739 9.71429 0 10.8017 0 12.1429V14.5714C0 15.9126 1.08739 17 2.42857 17H4.85714C6.19832 17 7.28571 15.9126 7.28571 14.5714V12.1429C7.28571 10.8017 6.19832 9.71429 4.85714 9.71429ZM2.42857 0H4.85714C6.19832 0 7.28571 1.08739 7.28571 2.42857V4.85714C7.28571 6.19832 6.19832 7.28571 4.85714 7.28571H2.42857C1.08739 7.28571 0 6.19832 0 4.85714V2.42857C0 1.08739 1.08739 0 2.42857 0Z",fill:"#505050"}))},Ue=function(e){var t=e.category,a=e.setCategory,n=e.priceFrom,r=e.setPriceFrom,l=e.priceTo,o=e.setPriceTo;return c.a.createElement(Te,{className:"home-page-search-panel"},c.a.createElement(Le,{type:"medium",value:t,onChange:a},c.a.createElement($e,{icon:c.a.createElement(De,null),value:"any"},"Choose category"),c.a.createElement($e,{value:"mebels"},"Mebels"),c.a.createElement($e,{value:"technology"},"Technology")),c.a.createElement(G,{type:"medium",placeholder:"Price from (USD)",value:n,onValueChange:r}),c.a.createElement(G,{type:"medium",placeholder:"Price to (USD)",value:l,onValueChange:o}))},Ae=(a(139),function(e){var t=e.products,a=e.loading;return c.a.createElement("div",{className:"products-viewer"},!a&&(null===t||void 0===t?void 0:t.map((function(e){return c.a.createElement(Ie,{key:e.id,product:e})}))),a&&c.a.createElement(U,{darken:!1,style:{gridColumn:"1 / span 4",position:"static"}}),!a&&0===(null===t||void 0===t?void 0:t.length)&&c.a.createElement("span",null,"Products is empty"))}),Ve=Object(te.b)((function(e){var t=e.products,a=t.searchQuery,n=a.category,r=a.priceFrom,c=a.priceTo,l=a.page,o=a.limit;return{category:n,priceFrom:r,priceTo:c,reactionSearchQuery:t.reactionSearchQuery,page:l,limit:o}}),{changeProductsSearchQuery:ae,searchProducts:ne})((function(e){var t=e.category,a=e.priceFrom,n=e.priceTo,r=e.page,l=e.limit,o=e.reactionSearchQuery,i=e.changeProductsSearchQuery,u=e.searchProducts,s=Object(x.c)(je,{variables:Object(Oe.a)({},o)}),d=s.data,m=s.loading;return c.a.createElement("div",{className:"home-page"},c.a.createElement(Ue,{category:t,setCategory:function(e){return i({category:e})},priceFrom:-1===a?"":a,setPriceFrom:function(e){return i({priceFrom:""===e?-1:+e})},priceTo:-1===n?"":n,setPriceTo:function(e){return i({priceTo:""===e?-1:+e})}}),c.a.createElement(Ae,{products:null===d||void 0===d?void 0:d.products,loading:m}),c.a.createElement(Fe,{onChangePage:function(e){i({page:e}),u()},page:r,pages:d?Math.ceil(d.productsCount/l):1}))})),Me=(a(140),a(141),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return c.a.createElement(e,t,a)}),_e=function(e){var t=e.value,a=e.as,n=void 0===a?"span":a,l=e.error,o=e.errorValueIfTouched,i=e.className,s=e.children,m=Object(d.a)(e,["value","as","error","errorValueIfTouched","className","children"]),p=Object(r.useState)(!1),f=Object(u.a)(p,2),v=f[0],g=f[1];return s?c.a.createElement("div",Object.assign({className:"label ".concat(i)},m,{onBlur:function(){return g(!0)}}),c.a.createElement("div",{className:"label-values"},Me(n,Object(Oe.a)({className:"label-values-value ".concat(i),error:l?"true":null},m),t),(v||l)&&c.a.createElement("span",{className:"label-values-error-value"},l||o)),s):Me(n,Object(Oe.a)({className:"label-solo-value ".concat(i),error:l?"true":null},m),t)},He=_e,Be=(a(142),function(e){var t=e.children;return c.a.createElement("div",{className:"login-upper-container"},t)}),Qe=(a(143),function(e){var t=e.children;return c.a.createElement("div",{className:"login-lower-container"},t)}),qe=(a(144),function(e){var t=e.className,a=e.loading,n=e.children,r=Object(d.a)(e,["className","loading","children"]),l=Array.isArray(n)?n:[n],o=l.find((function(e){return e&&e.type===Be})),i=l.find((function(e){return e&&e.type===Qe}));return c.a.createElement("form",Object.assign({className:"login-container ".concat(t),style:{gridTemplateRows:"".concat(o?"auto":""," ").concat(i?"75px":"")}},r),o,i,a&&c.a.createElement(U,null))}),Ge=qe,Ze=Be,We=Qe,ze=(a(145),function(e){var t=e.className,a=e.children;return c.a.createElement("h4",{className:"login-upper-container-title ".concat(t)},a)}),Ke=ze,Ye=function(e){return/[a-zA-Z\d+]+@[a-zA-Z]+\.[a-zA-Z]{1,5}/.test(e)},Je=a(27),Xe=(a(146),function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){return Object(Je.compose)(Object(te.b)((function(e){var t=e.user;return{loginStatus:t.loginStatus,registerStatus:t.registerStatus}})))((function(a){var n=a.history,l=a.loginStatus,o=a.registerStatus,i=Object(r.useState)(!1),s=Object(u.a)(i,2),d=s[0],m=s[1],p=Object(x.c)(T),f=p.data,v=p.loading?"LOADING":null!==(null===f||void 0===f?void 0:f.currentUser)?"LOADED":"LOADED_ERROR",g="LOADING"===v&&"REGISTERING"!==o&&"LOGINING"!==l||"UNLOGINING"===l,E="LOADED"===v&&"LOGINED"!==l&&"REGISTERED"!==o,b="LOADED_ERROR"===v||"UNLOADED"===v;Object(r.useEffect)((function(){"UNLOGINING"===l&&m(!1)}),[l]),Object(r.useEffect)((function(){g&&m(!1),d||(!e&&E||e&&b?(m(!0),he("Access has blocked by login policy"),n.push("/")):(E||b)&&m(!0))}),[v]);var h=c.a.createElement("div",{className:"with-logined-lock",loading:g?"true":null},d&&c.a.createElement(t,a),!d&&g&&c.a.createElement(U,null));return h}))}}),et=Xe;function tt(){var e=Object(p.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n            id\n            fullName\n            email\n            iconName\n        }\n    }\n"]);return tt=function(){return e},e}var at=function(e){switch(e.type){case"EMAIL_IS_REQUIRED":return"Email is required";case"PASSWORD_IS_REQUIRED":return"Password is required";case"EMAIL_IS_NOT_VALID":return"Email is not valid";case"UNKNOWN_DATA":return"Unknown data";default:return"Unknown error"}},nt=et(!1)((function(e){var t=e.history,a=Object(r.useState)(null),n=Object(u.a)(a,2),l=n[0],o=n[1],s=Object(r.useState)(""),d=Object(u.a)(s,2),m=d[0],p=d[1],f=Object(r.useState)(""),v=Object(u.a)(f,2),g=v[0],E=v[1],b=Object(x.a)(),h=Object(x.b)(rt,{refetchQueries:[{query:je,variables:{title:"",locationId:-1,category:"any",priceFrom:-1,priceTo:-1}}]}),C=Object(u.a)(h,2),O=C[0],N=C[1].loading;return c.a.createElement("div",{className:"login-page"},c.a.createElement(Ge,{loading:N,onSubmit:function(e){return e.preventDefault()}},c.a.createElement(Ze,null,c.a.createElement(Ke,null,"Login"),l&&c.a.createElement(He,{error:!0,value:l}),c.a.createElement(He,{className:"login-page-form-field",value:"Email",errorValueIfTouched:Ye(m)?null:"Email is not valid"},c.a.createElement(G,{value:m,errorIfTouched:!Ye(m),placeholder:"Example@gmail.com",onValueChange:function(e){return p(e)}})),c.a.createElement(He,{className:"login-page-form-field",value:"Password",errorValueIfTouched:g?null:"Password is required"},c.a.createElement(G,{value:g,password:!0,errorIfTouched:!g,onValueChange:function(e){return E(e)}})),c.a.createElement(i.b,{className:"login-page-forgot-label",to:"/forgot-password"},"Don't remeber password?"),c.a.createElement(S.Default,{disabled:!(Ye(m)&&g),onClick:function(){return O({variables:{email:m,password:g}}).then((function(e){var a=e.data.login;b.writeQuery({query:T,data:{currentUser:a}}),t.push("/")})).catch((function(e){return o(at(e))}))},value:"Continue"})),c.a.createElement(We,null,"I have no account,\xa0",c.a.createElement("span",{className:"login-page-link"},c.a.createElement(i.b,{to:"/register"},"REGISTER NOW")))))})),rt=Object(I.a)(tt()),ct=(a(147),a(48));function lt(){var e=Object(p.a)(["\n    mutation register($fullName: String!, $email: String!, $password: String!) {\n        register(fullName: $fullName, email: $email, password: $password) {\n            id\n            fullName\n            email\n            iconName\n        }\n    }\n"]);return lt=function(){return e},e}var ot=Xe(!1)((function(e){var t=e.history,a=Object(x.a)(),n=Object(x.b)(it),r=Object(u.a)(n,2),l=r[0],o=r[1].data,s=c.a.createElement(ct.a,{initialValues:{email:"",password:"",passwordAgain:"",fullName:""},validate:function(e){var t=e.email,a=e.password,n=e.passwordAgain,r=e.fullName,c={};return t?/[a-zA-Z\d+]+@[a-zA-Z]+\.[a-zA-Z]{1,5}/.test(t)||(c.email="Email is not valid"):c.email="Email is required",a.length<8&&(c.password="Length must be greater or equal eight"),n.length<8?c.passwordAgain="Length must be greater or equal eight":n!==a&&(c.passwordAgain="Passwords is not equal"),r.length<2&&(c.fullName="Length must be greater or equal two"),c},onSubmit:function(e,t){var n=e.email,r=e.fullName,c=e.password,o=t.setSubmitting,i=t.setErrors;o(!0),l({variables:{email:n,fullName:r,password:c}}).then((function(e){console.log(e.data),a.writeQuery({query:T,data:{currentUser:e.data.register}})})).catch((function(e){switch(e.type){case"EMAIL_IS_BUSY":o(!1),i({email:"Email is busy"})}}))}},(function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleChange,l=e.handleBlur,o=e.handleSubmit,u=e.isSubmitting;return c.a.createElement(qe,{loading:u,onSubmit:o},c.a.createElement(Be,null,c.a.createElement(ze,null,"Register"),c.a.createElement(_e,{className:"register-page-form-field",value:"Email",error:!!n.email&&a.email},c.a.createElement(q,{value:t.email,placeholder:"Example@gmail.com",name:"email",error:!!n.email&&!!a.email,onChange:r,onBlur:l})),c.a.createElement(_e,{className:"register-page-form-field",value:"Full name",error:!!n.fullName&&a.fullName},c.a.createElement(q,{value:t.fullName,error:!!n.fullName&&!!a.fullName,name:"fullName",onChange:r,onBlur:l})),c.a.createElement(_e,{className:"register-page-form-field",value:"Password",error:!!n.password&&a.password},c.a.createElement(q,{value:t.password,error:!!n.password&&!!a.password,name:"password",password:!0,onChange:r,onBlur:l})),c.a.createElement(_e,{className:"register-page-form-field",value:"Password again",error:!!n.passwordAgain&&a.passwordAgain},c.a.createElement(q,{value:t.passwordAgain,error:!!n.passwordAgain&&!!a.passwordAgain,password:!0,name:"passwordAgain",onChange:r,onBlur:l})),c.a.createElement(S.Default,{className:"register-page-sumbit-button",disabled:0!==Object.keys(a).length||0===Object.keys(n).length,type:"submit",onClick:o,value:"Register"})),c.a.createElement(Qe,null,"I already have account,\xa0",c.a.createElement("span",{className:"register-page-link"},c.a.createElement(i.b,{to:"/login"},"LOGIN IN"))))})),d=c.a.createElement(qe,null,c.a.createElement(Be,null,c.a.createElement(ze,null,"Registered"),c.a.createElement(_e,{className:"register-page-registered-label"},"Please, check your email for verify link"),c.a.createElement(S.Default,{onClick:function(){return t.push("/profile")},value:"Go to profile"})));return c.a.createElement("div",{className:"register-page"},!(null===o||void 0===o?void 0:o.register)&&s,(null===o||void 0===o?void 0:o.register)&&d)})),it=Object(I.a)(lt());a(149);function ut(){var e=Object(p.a)(["\n    mutation restorePassword($email: String!) {\n        restorePasswordRequest(email: $email)\n    }\n"]);return ut=function(){return e},e}var st=et(!1)((function(e){var t=Object(r.useState)("NOT_RESTORED"),a=Object(u.a)(t,2),n=(a[0],a[1],Object(r.useState)("")),l=Object(u.a)(n,2),o=l[0],i=l[1],s=Object(x.b)(dt,{variables:{email:o}}),d=Object(u.a)(s,2),m=d[0],p=d[1],f=p.data,v=p.loading,g=p.error;return c.a.createElement("div",{className:"forgot-password-page"},c.a.createElement(qe,{loading:v,onSubmit:function(e){return e.preventDefault()}},c.a.createElement(Be,null,c.a.createElement(ze,null,"Restore Password"),(null===f||void 0===f?void 0:f.restorePasswordRequest)&&c.a.createElement(_e,{className:"forgot-password-page-sended"},"If ",o," is exists, message with restore link will have sent"),!(null===f||void 0===f?void 0:f.restorePasswordRequest)&&c.a.createElement(_e,{className:"login-page__container-upper-form-field",value:"Email",error:g},c.a.createElement(q,{value:o,placeholder:"Example@gmail.com",error:g,onValueChange:i})),!(null===f||void 0===f?void 0:f.restorePasswordRequest)&&c.a.createElement(S.Default,{className:"forgot-password-page-sumbit-button",onClick:m,value:"Continue"}))))})),dt=Object(I.a)(ut()),mt=a(79),pt=a.n(mt),ft=(a(152),a(153),a(154),function(e){var t=e.value,a=e.checked,n=void 0!==a&&a,r=e.className,l=Object(d.a)(e,["value","checked","className"]);return c.a.createElement("div",{className:"checkbox ".concat(r)},c.a.createElement("input",Object.assign({checked:n,className:"checkbox-input",type:"checkbox"},l)),c.a.createElement(He,{className:"checkbox-label",value:t}))});function vt(){var e=Object(p.a)(["\n    mutation restorePassword($key: String!, $password: String!) {\n        restorePassword(key: $key, password: $password)\n    }\n"]);return vt=function(){return e},e}function gt(e){if("string"!==typeof e)throw new Error("It is not a string");return e.length<8?"Length must be greater or equal eight":null}function Et(e,t){return gt(e)||e!==t?"Password not equal password again":null}var bt=function(e){var t=e.restoreKey,a=Object(r.useState)(""),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)(""),s=Object(u.a)(i,2),d=s[0],m=s[1],p=Object(r.useState)(!0),f=Object(u.a)(p,2),v=f[0],g=f[1],E=!gt(l)&&!Et(l,d),b=Object(x.b)(ht,{variables:{key:t,password:l}}),h=Object(u.a)(b,2),C=h[0],O=h[1],N=O.data,y=O.loading,j=O.error,w=c.a.createElement(qe,{loading:y,onSubmit:function(e){return e.preventDefault()}},c.a.createElement(Be,null,c.a.createElement(ze,{className:"new-password-panel-title"},"Restore password"),j&&c.a.createElement(_e,{error:"true",value:j}),c.a.createElement(_e,{value:"New password",errorValueIfTouched:gt(l)},c.a.createElement(q,{value:l,password:"true",errorIfTouched:gt(l),onChange:function(e){return o(e.target.value)}})),c.a.createElement(_e,{className:"new-password-panel-again-label",value:"New password again",errorValueIfTouched:Et(l,d)},c.a.createElement(q,{value:d,password:"true",errorIfTouched:Et(l,d),onChange:function(e){return m(e.target.value)}})),c.a.createElement(ft,{className:"new-password-panel-leave-devices-checkbox",checked:v,onChange:function(e){return g(e.target.checked)},value:"Go out in all devices"}),c.a.createElement(S.Default,{disabled:!E,onClick:C,value:"Continue"}))),k=c.a.createElement(qe,{onSubmit:function(e){return e.preventDefault()}},c.a.createElement(Be,null,c.a.createElement(ze,null,"Password has restored"),c.a.createElement(_e,null,"Hey, your password has restored")));return c.a.createElement("div",{className:"new-password-panel"},!(null===N||void 0===N?void 0:N.restorePassword)&&w,(null===N||void 0===N?void 0:N.restorePassword)&&k)},ht=Object(I.a)(vt()),Ct=bt,Ot=function(e){var t=e.error;return c.a.createElement(qe,null,c.a.createElement(Be,null,c.a.createElement(ze,null,"Key error"),c.a.createElement(He,{value:"Reason: ".concat(t)})))};function Nt(){var e=Object(p.a)(["\n    query checkRestoryKey($key: String!) {\n        restorePasswordCheckKey(key: $key) \n    }\n"]);return Nt=function(){return e},e}var yt=et(!1)((function(e){var t,a,n=e.history.location.search,l=void 0===n?"?":n,o=pt.a.parse(l.slice(1)).key,i=Object(r.useState)("NOT_LOADED"),s=Object(u.a)(i,2),d=(s[0],s[1],Object(x.c)(jt,{variables:{key:o},errorPolicy:"all"})),m=d.data,p=d.loading,f=d.error;switch(null===f||void 0===f||null===(t=f.graphQLErrors[0])||void 0===t?void 0:t.message){case"KEY_IS_INVALID":a="Key is not valid";break;default:a=""}return c.a.createElement("div",{className:"restore-password-page"},(null===m||void 0===m?void 0:m.restorePasswordCheckKey)&&c.a.createElement(Ct,{restoreKey:o}),p&&c.a.createElement("span",null,"Checking key..."),f&&c.a.createElement(Ot,{error:a}))})),jt=Object(I.a)(Nt()),wt=yt,kt=(a(155),a(156),function(e){var t=e.children,a=e.className;return c.a.createElement("div",{className:"panel ".concat(null!==a&&void 0!==a?a:"")},t)}),St=(a(157),function(e){var t=e.user,a=t.iconName,n=t.fullName,r=t.location;return c.a.createElement("div",{className:"user-information"},c.a.createElement(y,{className:"user-information-icon",src:a,fullName:n}),c.a.createElement("span",{className:"user-information-fullname"},n),c.a.createElement("span",{className:"user-information-location"},r))}),xt=(a(158),a(159),function(e){var t=e.main,a=e.minor,n=e.active,r=e.loading,l=e.activated,o=n?"M0.65 73.4578V0.65H161.523V73.4578L89.7001 73.45L89.4618 73.45L89.28 73.6039L81.0648 80.5591L71.8935 73.5827L71.7191 73.45L71.4999 73.45L0.65 73.4578Z":"M1.15 0.65H163.323V73.4579H1.15V0.65Z";return c.a.createElement("svg",{className:"profile-tab",active:n?"true":null,onClick:l,viewBox:"0 0 160 82",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:o,stroke:"#EEEFF1",strokeWidth:"2"}),c.a.createElement("foreignObject",{className:"profile-tab-container"},!r&&c.a.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml"},c.a.createElement("span",{className:"profile-tab-container-main-text"},t),c.a.createElement("span",{className:"profile-tab-container-minor-text"},a)),r&&c.a.createElement(U,{darken:!1,style:{height:"60%",top:"calc(50% - (60% / 2))"}})))});function It(){var e=Object(p.a)(["\n    query {\n        currentUser {\n            id\n            productsCount\n            salesCount\n            feedbacksCount\n        }\n    }\n"]);return It=function(){return e},e}var Pt=function(e){var t=e.tabIndex,a=e.setTabIndex,n=Object(r.useState)(0),l=Object(u.a)(n,2),o=l[0],i=l[1],s=Object(r.useState)(0),d=Object(u.a)(s,1)[0],m=Object(r.useState)(0),p=Object(u.a)(m,1)[0],f=Object(x.c)(Tt),v=f.data,g=f.loading;Object(r.useEffect)((function(){v&&i(v.currentUser.productsCount)}),[v]);var E=[{main:p+"%",minor:"Positive feedbacks",loading:g},{main:d,minor:"sales",loading:g},{main:o,minor:"Active listings",loading:g}];return c.a.createElement("div",{className:"profile-tabs"},E.map((function(e,n){var r=e.main,l=e.minor,o=e.loading;return c.a.createElement(xt,{key:n,main:r,minor:l,loading:o,active:t===n,activated:function(){return a(n)}})})))},Tt=Object(I.a)(It()),Rt=(a(160),a(161),a(162),function(e){var t=e.className,a=e.semi,n=void 0!==a&&a,r=e.empty,l=void 0!==r&&r,o=Object(d.a)(e,["className","semi","empty"]);return c.a.createElement("svg",Object.assign({className:"star-icon ".concat(null!==t&&void 0!==t?t:"")},o,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 608.4 595.3",xmlSpace:"preserve"}),c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"308.8302",y1:"527.6319",x2:"308.8302",y2:"-57.1526",gradientTransform:"matrix(1.0011 -4.227138e-05 4.201720e-05 0.9984 -5.0009 62.7679)"},c.a.createElement("stop",{offset:"0",style:{stopColor:"#FCFF13"}}),c.a.createElement("stop",{offset:"0.1979",style:{stopColor:"#FCF215"}}),c.a.createElement("stop",{offset:"0.7081",style:{stopColor:"#FED51B"}}),c.a.createElement("stop",{offset:"1",style:{stopColor:"#FECA1D"}})),!n&&!l&&c.a.createElement("path",{className:"st0",d:"M267.8,28.7c0,0-55.6,115.1-70.3,145.5c-32.8,4.9-157.2,23.3-157.2,23.3c-15.3,2.2-27.9,13.2-32.7,28.1\r c-1.3,4.2-2,8.5-2,12.8c0,11,4.3,21.7,12.3,29.6c0,0,90,89.6,113.8,113.2c-5.6,33.3-26.9,159.9-26.9,159.9\r c-0.4,2.3-0.6,4.7-0.6,7c0,13.1,6.1,25.6,16.7,33.5c12.5,9.2,29,10.5,42.7,3.1c0,0,111.3-59.7,140.6-75.5\r c29.3,15.7,140.6,75.5,140.6,75.5c13.7,7.3,30.2,6.1,42.7-3.2c10.6-7.9,16.7-20.3,16.7-33.5c0-2.3-0.2-4.7-0.6-7\r c0,0-21.3-126.5-26.9-159.9c23.7-23.6,113.8-113.2,113.8-113.2c7.9-7.9,12.2-18.6,12.2-29.6c0-4.3-0.6-8.6-2-12.8\r c-4.8-15-17.5-25.9-32.7-28.2c0,0-124.5-18.5-157.2-23.3c-14.7-30.3-70.3-145.4-70.3-145.4c-6.8-14.1-20.9-23.1-36.3-23.1\r C288.7,5.7,274.6,14.6,267.8,28.7z"}),c.a.createElement("g",null,c.a.createElement("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"148.405",y1:"42.0436",x2:"296.1122",y2:"220.3373",gradientTransform:"matrix(1.0011 -4.227138e-05 4.201720e-05 0.9984 -5.0009 62.7679)"},c.a.createElement("stop",{offset:"0",style:{stopColor:"#FFFFFF"}}),c.a.createElement("stop",{offset:"0.1886",style:{stopColor:"#FFFFCA"}}),c.a.createElement("stop",{offset:"0.3752",style:{stopColor:"#FFFF9D"}}),c.a.createElement("stop",{offset:"0.5532",style:{stopColor:"#FFFF7A"}}),c.a.createElement("stop",{offset:"0.7202",style:{stopColor:"#FFFF60"}}),c.a.createElement("stop",{offset:"0.8721",style:{stopColor:"#FFFF51"}}),c.a.createElement("stop",{offset:"0.9951",style:{stopColor:"#FFFF4C"}})),!l&&c.a.createElement("path",{className:"st1",d:"M421,175.7c-3.9-0.6-7.4-1.1-10.1-1.5c-14.7-30.3-70.3-145.4-70.3-145.4c-6.8-14.1-20.9-23.1-36.3-23.1\r c-15.4,0-29.5,8.9-36.3,23c0,0-55.6,115.1-70.3,145.5c-32.8,4.9-157.2,23.3-157.2,23.3c-15.3,2.2-27.9,13.2-32.7,28.1\r c-1.3,4.2-2,8.5-2,12.8c0,11,4.3,21.7,12.3,29.6c0,0,90,89.6,113.8,113.2c-0.1,0.3-0.1,0.6-0.2,0.9\r C178.1,307.4,264.7,217,421,175.7z"})),c.a.createElement("path",{className:"st2",d:"M262.8,26.2l-70.3,145.5l4.2-3.1L39.5,191.8C22,194.4,7.7,206.7,2.3,223.9c-1.5,4.7-2.3,9.6-2.3,14.6\r c0,12.6,5.1,24.9,13.9,33.7l113.8,113.2l-1.6-5.1L99.2,540.2c-0.4,2.6-0.7,5.3-0.7,8c0,15,7.1,29.3,19,38.1\r c14.3,10.6,33,12,48.6,3.6l140.6-75.5l-5.2,0l140.6,75.5c15.7,8.4,34.3,7,48.6-3.6c11.9-8.8,19-23.1,19-38.1c0-2.6-0.2-5.3-0.7-8\r l-26.9-159.9l-1.7,5.1l113.8-113.2c8.9-8.8,13.9-21.1,13.9-33.8c0-4.9-0.8-9.9-2.3-14.5c-5.5-17.2-19.8-29.5-37.3-32.1\r l-157.2-23.3l4.2,3.1L345.5,26.2C337.7,10,321.8-0.1,304.1,0C286.5-0.1,270.6,10,262.8,26.2z M304.1,11.4\r c13.4,0,25.4,7.6,31.3,19.9l70.3,145.4l1.3,2.7l2.9,0.4l157.2,23.3c13.2,2,24,11.3,28.2,24.3c1.1,3.5,1.7,7.2,1.7,11\r c0,9.5-3.8,18.8-10.5,25.5L472.8,377.2l-2.1,2.1l0.5,3l26.9,159.9c0.3,2,0.5,4,0.5,6c0,11.4-5.4,22.2-14.4,28.8\r c-10.8,8-24.9,9.1-36.7,2.7l-140.6-75.5l-2.6-1.4l-2.6,1.4L161,579.7c-11.9,6.4-25.9,5.3-36.8-2.7c-9-6.7-14.4-17.4-14.4-28.8\r c0-2,0.2-4,0.5-6l26.8-159.9l0.5-3l-2.1-2.1L21.8,264c-6.7-6.7-10.5-16-10.6-25.5c0-3.7,0.6-7.4,1.7-11c4.1-13,15-22.3,28.2-24.3\r l157.2-23.3l2.9-0.4l1.3-2.7l70.3-145.4C278.8,19,290.8,11.4,304.1,11.4z"})))))}),Ft=function(e){e.id;var t=e.rate,a=e.text;return c.a.createElement("div",{className:"feedback-card"},c.a.createElement(y,{className:"feedback-card-user-icon",fullName:"R o"}),c.a.createElement("div",{className:"feedback-card-rate"},Q.a.times(5,(function(e){return c.a.createElement(Rt,{key:e,className:"feedback-card-rate-star-icon",empty:e>=t,semi:e<t&&e+1>t})}))),c.a.createElement("span",{className:"feedback-card-text"},a))};function $t(){var e=Object(p.a)(["query currentUser($page: Int, $limit: Int) {\n    currentUser{\n      feedbacks(page: $page, limit: $limit) {\n        id\n        text\n      },\n      feedbacksCount\n    }\n  }"]);return $t=function(){return e},e}var Lt=function(){var e,t=Object(x.c)(Dt),a=t.data,n=t.loading;return c.a.createElement("div",{className:"feedbacks-content"},c.a.createElement("div",{className:"feedbacks-content-container"},null===a||void 0===a||null===(e=a.currentUser)||void 0===e?void 0:e.feedbacks.map((function(e){return c.a.createElement(Ft,Object.assign({key:e.id},e))}))),n&&c.a.createElement("div",{className:"feedbacks-content-loading"},c.a.createElement(U,{darken:!1})),c.a.createElement(Fe,{pages:10,page:1}))},Dt=Object(I.a)($t()),Ut=(a(163),Ie);function At(){var e=Object(p.a)(["\nquery currentUser($page: Int, $limit: Int) {\n    currentUser {\n        id\n     products(page: $page, limit: $limit) {\n        id\n        title\n        price\n        imageName\n        saved\n     },\n     productsCount\n   }\n }"]);return At=function(){return e},e}var Vt=function(){var e,t=Object(r.useState)(1),a=Object(u.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(12),i=Object(u.a)(o,1)[0],s=Object(x.c)(Mt,{variables:{page:n,limit:i}}),d=s.data,m=s.loading,p=s.refetch;return Object(r.useEffect)((function(){p({page:n,limit:i})}),[n]),c.a.createElement("div",{className:"products-content"},!m&&c.a.createElement("div",{className:"products-content-container"},null===d||void 0===d||null===(e=d.currentUser)||void 0===e?void 0:e.products.map((function(e){return c.a.createElement(Ut,{key:e.id,product:e})}))),m&&c.a.createElement("div",{className:"products-content-loading"},c.a.createElement(U,{darken:!1})),c.a.createElement(Fe,{onChangePage:l,page:n,pages:d?Math.ceil(d.currentUser.productsCount/i):1}))},Mt=Object(I.a)(At()),_t=(a(164),a(165),function(e){e.id;var t=e.product,a=void 0===t?{title:""}:t,n=e.user,r=void 0===n?{fullName:""}:n,l=e.date;if(!r)throw new Error;var o=new Date(1970,0,1);return o.setMilliseconds(l),c.a.createElement("div",{className:"sale-card"},c.a.createElement("div",{className:"sale-card-icon"},c.a.createElement("img",{src:"https://image.shutterstock.com/image-vector/pagination-bars-web-buttons-vector-260nw-1111694900.jpg",alt:"Product"})),c.a.createElement("span",null,a.title),c.a.createElement("span",null,o.toString()))});function Ht(){var e=Object(p.a)(["\nquery currentUser($page: Int, $limit: Int) {\n    currentUser {\n      sales(page: $page, limit: $limit) {\n        id\n        product {\n            id\n            title\n        }\n        date\n      },\n      salesCount\n    }\n  }"]);return Ht=function(){return e},e}var Bt=function(){var e,t=Object(x.c)(Qt),a=t.data,n=t.loading;return c.a.createElement("div",{className:"sales-content"},!n&&c.a.createElement("div",{className:"sales-content-container"},null===a||void 0===a||null===(e=a.currentUser)||void 0===e?void 0:e.sales.map((function(e){return c.a.createElement(_t,Object.assign({key:e.id},e))}))),n&&c.a.createElement("div",{className:"sales-content-loading"},c.a.createElement(U,{darken:!1})),c.a.createElement(Fe,{page:1,pages:5}))},Qt=Object(I.a)(Ht());function qt(){var e=Object(p.a)(["\nquery {\n\tcurrentUser {\n\t\tid\n\t fullName\n\t iconName\n   }\n }"]);return qt=function(){return e},e}var Gt=et(!0)((function(){var e=Object(r.useState)(1),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(x.c)(Zt),o=l.data,i=l.loading;return c.a.createElement("div",{className:"profile-page"},c.a.createElement(kt,{className:"profile-page-panel"},!i&&c.a.createElement(St,{user:o.currentUser}),c.a.createElement(Pt,{tabIndex:a,setTabIndex:n}),!i&&c.a.createElement("div",{className:"profile-page-main-content"},0===a&&c.a.createElement(Lt,{userId:o.id}),1===a&&c.a.createElement(Bt,{userId:o.id}),2===a&&c.a.createElement(Vt,{userId:o.id}))))})),Zt=Object(I.a)(qt());a(166);function Wt(){var e=Object(p.a)(["\n    mutation saveUser($fullName: String!, $phone: String!, $icon: Upload) {\n        saveUser(fullName: $fullName, phone: $phone, icon: $icon) {\n            id\n            fullName,\n            iconName,\n            email\n        }\n    }\n"]);return Wt=function(){return e},e}var zt=et()((function(){var e,t,a=Object(x.a)(),n=Object(x.c)(T),l=n.data,o=n.loading,i=Object(x.b)(Kt),s=Object(u.a)(i,2),d=s[0],m=s[1],p=Object(r.useState)(null),f=Object(u.a)(p,2),v=f[0],g=f[1],E=Object(r.useState)(null),b=Object(u.a)(E,2),h=b[0],C=b[1],O=Object(r.useState)(null===l||void 0===l||null===(e=l.currentUser)||void 0===e?void 0:e.fullName),N=Object(u.a)(O,2),j=N[0],w=N[1],k=Object(r.useState)("+38"),I=Object(u.a)(k,2),P=I[0],R=I[1];Object(r.useEffect)((function(){var e;C(null===l||void 0===l||null===(e=l.currentUser)||void 0===e?void 0:e.iconName),g(null)}),[l]);var F=c.a.createRef();return c.a.createElement("div",{className:"edit-profile-page"},c.a.createElement(Te,{className:"edit-profile-page-form"},c.a.createElement("h2",{className:"edit-profile-page-form-title"},"Edit profile"),c.a.createElement("div",{className:"edit-profile-page-form-icon"},c.a.createElement(y,{fullName:null===l||void 0===l||null===(t=l.currentUser)||void 0===t?void 0:t.fullName,src:h,local:!!v}),c.a.createElement(S.Outlined,{type:"outlined",value:"Upgrade Photo",onClick:function(){return F.current.click()}}),c.a.createElement("input",{type:"file",ref:F,style:{display:"none"},onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onload=function(e){C(e.target.result)},g(t),a.readAsDataURL(t)}}})),c.a.createElement(He,{className:"edit-profile-page-form-full-name",value:"Full name"},c.a.createElement(G,{value:j,onValueChange:function(e){return w(e)}})),c.a.createElement(He,{className:"edit-profile-page-form-phone",value:"Phone number"},c.a.createElement(G,{value:P,onValueChange:function(e){return R(e)}})),c.a.createElement(S.Default,{className:"edit-profile-page-form-save",onClick:function(){d({variables:{fullName:j,phone:P,icon:v}}).then((function(e){var t=e.data;a.writeQuery({query:T,data:{currentUser:t.saveUser}})}))},value:"Save"}),(o||m.loading)&&c.a.createElement(U,{style:{top:0,left:0}})))})),Kt=Object(I.a)(Wt()),Yt=(a(167),et(!0)((function(){var e=Object(x.c)(we),t=e.data,a=e.loading,n=Object(r.useState)([]),l=Object(u.a)(n,2),o=l[0],i=l[1],s=Object(r.useState)([]),d=Object(u.a)(s,2),m=d[0],p=d[1],f=function(e,t){t?(i(o.concat([Object(Oe.a)({},e,{saved:t})])),p(m.filter((function(t){return t.id!==e.id})))):(p(m.concat([Object(Oe.a)({},e,{saved:t})])),i(o.filter((function(t){return t.id!==e.id}))))};Object(r.useEffect)((function(){if(null===t||void 0===t?void 0:t.savedProducts){var e=t.savedProducts,a=o.map((function(e){return e.id}));i(e.filter((function(e){return-1===a.indexOf(e.id)})).concat(o))}}),[t]),Object(r.useEffect)((function(){var e=m.map((function(e){return e.id}));0!==o.filter((function(t){return-1!==e.indexOf(t.id)})).length&&i(o.filter((function(t){return-1===e.indexOf(t.id)})))}),[o]),Object(r.useEffect)((function(){var e=o.map((function(e){return e.id}));0!==m.filter((function(t){return-1!==e.indexOf(t.id)})).length&&p(m.filter((function(t){return-1===e.indexOf(t.id)})))}),[m]);var v=a?c.a.createElement(U,{darken:!1,className:"saved-items-page-form-title-loading"}):o.length;return c.a.createElement("div",{className:"saved-items-page"},c.a.createElement(Te,{className:"saved-items-page-form"},c.a.createElement("div",null,c.a.createElement("h1",{className:"saved-items-page-form-title"}," Saved items (",v,")"),c.a.createElement("div",{className:"saved-items-page-form-products-container"},o.map((function(e){return c.a.createElement(Ie,{key:e.id,product:e,onChangeSavedState:function(t){return f(e,t)}})})))),0!==(null===m||void 0===m?void 0:m.length)&&c.a.createElement("div",null,c.a.createElement("h1",{className:"saved-items-page-form-title"}," Unsaved items (",m.length,")"),c.a.createElement("div",{className:"saved-items-page-form-products-container"},null===m||void 0===m?void 0:m.map((function(e){return c.a.createElement(Ie,{key:"_"+e.id,product:e,onChangeSavedState:function(t){return f(e,t)}})}))))))}))),Jt=(a(168),a(169),function(e){var t=e.className,a=e.onlyView,n=void 0!==a&&a,l=e.multiple,o=void 0!==l&&l,i=e.file,s=void 0===i?null:i,m=e.setFile,p=void 0===m?function(){}:m,f=e.setFiles,v=void 0===f?function(){}:f,g=e.onClear,E=void 0===g?function(){}:g,b=Object(d.a)(e,["className","onlyView","multiple","file","setFile","setFiles","onClear"]),h=Object(r.useState)(!1),C=Object(u.a)(h,2),O=C[0],N=C[1],y=Object(r.useState)(null),j=Object(u.a)(y,2),w=j[0],k=j[1];Object(r.useEffect)((function(){if(s){var e=new FileReader;e.onload=function(e){k(e.target.result)},e.readAsDataURL(s)}}),[s]);var S=c.a.createRef();return c.a.createElement("div",Object.assign({className:"input-image ".concat(null!==t&&void 0!==t?t:""),onClick:function(e){n?e.preventDefault():S&&S.current.click()},"is-drag":O?"true":null,"has-file":s?"true":"false"},b),!!s&&c.a.createElement("button",{className:"input-image-clear-button",onClick:E}),c.a.createElement("input",{ref:S,type:"file",multiple:o,onChange:function(e){var t=e.target.files;t[0]&&(o?v(Object(me.a)(t)):p(t[0]))},onClick:function(e){return e.stopPropagation()},onDragEnter:function(){return N(!0)},onDragLeave:function(){return N(!1)}}),w&&c.a.createElement("div",{className:"input-image-container"},c.a.createElement("img",{src:w,alt:"Unknown"})))});function Xt(){var e=Object(p.a)(["\n  mutation addProduct($title: String!, $description: String!, $locationId: ID!, $price: Float!, $category: String! $photos: [Upload!]){\n    addProduct(title: $title, locationId: $locationId, description: $description, price: $price, category: $category, photos: $photos) {\n            id\n        }\n    }\n"]);return Xt=function(){return e},e}var ea=et(!0)((function(e){var t=e.history,a=Object(r.useState)(""),n=Object(u.a)(a,2),l=(n[0],n[1],Object(r.useState)(-1)),o=Object(u.a)(l,2),i=(o[0],o[1],Object(r.useState)("")),s=Object(u.a)(i,2),d=s[0],m=s[1],p=Object(r.useState)(""),f=Object(u.a)(p,2),v=(f[0],f[1],Object(r.useState)([])),g=Object(u.a)(v,2),E=g[0],b=(g[1],Object(x.b)(ta)),h=Object(u.a)(b,1)[0];return c.a.createElement("div",{className:"add-product-page"},c.a.createElement(ct.a,{initialValues:{title:"",category:"any",locationId:-1,description:"",price:"",photos:[]},validate:function(e){var t=e.title,a=e.locationId,n=e.category,r=(e.description,e.price),c=(e.photos,{});return""===t&&(c.title="Title must be"),-1===a&&(c.locationId="Location"),""===r&&(c.price="Price must be"),"any"===n&&(c.category="Category cannot be unselected"),c},onSubmit:function(e,a){var n=e.title,r=e.locationId,c=e.description,l=e.price,o=e.category,i=e.photos,u=a.setSubmitting;a.setErrors;u(!0),h({variables:{title:n,locationId:r,description:c,price:+l,category:o,photos:i}}).then((function(e){var a=e.data.addProduct.id;u(!1),t.push("/products/".concat(a))}))}},(function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleChange,l=e.handleBlur,o=e.handleSubmit,i=e.isSubmitting,u=e.setFieldValue,s=e.setFieldTouched;return c.a.createElement(Te,{className:"add-product-page-form",onSubmit:function(e){return e.preventDefault()}},c.a.createElement("h1",{className:"add-product-page-form-title"},"Add product"),c.a.createElement(He,{value:"Title",error:n.title&&a.title},c.a.createElement(G,{error:n.title&&a.title,value:t.title,onChange:r,onBlur:l,name:"title",placeholder:"For example: Iron man suite"})),c.a.createElement(He,{value:"Location",error:n.locationId&&a.locationId},c.a.createElement(Y,{error:n.locationId&&a.locationId,withIcon:!1,onLocationIdChange:function(e){return u("locationId",e)},onBlur:function(){return s("locationId",!0)},placeholder:"For example: Los Angele, CA"})),c.a.createElement(He,{value:"Description"},c.a.createElement(G,{multiline:!0,style:{height:"180px"},value:d,onValueChange:m,placeholder:"For example: Iron man suite"})),c.a.createElement(He,{value:"Photos",className:"add-product-page-form-photo"},c.a.createElement("div",{className:"add-product-page-form-photos-container"},t.photos.map((function(e,t){return c.a.createElement(Jt,{key:t,file:e,onlyView:!0,onClear:function(){return u("photos",E.filter((function(t){return t!==e})))}})})),c.a.createElement(Jt,{multiple:!0,setFiles:function(e){return u("photos",t.photos.concat(e))}}))),c.a.createElement(He,{value:"Category",error:n.category&&a.category},c.a.createElement(Le,{type:"medium",value:t.category,onBlur:function(){return s("category",!0)},onChange:function(e){return u("category",e)}},c.a.createElement($e,{icon:c.a.createElement(De,null),value:"any"},"Choose category"),c.a.createElement($e,{value:"mebels"},"Mebels"),c.a.createElement($e,{value:"technology"},"Technology"))),c.a.createElement(He,{value:"Price",error:n.price&&a.price},c.a.createElement(G,{value:t.price,onChange:r,name:"price",onBlur:l,placeholder:"4.99$",className:"add-product-page-form-price-field"})),c.a.createElement(S.Default,{disabled:!Q.a.isEmpty(a)||Q.a.isEmpty(n),style:{textTransform:"uppercase"},value:"Submit",onClick:o}),i&&c.a.createElement(U,null))})))})),ta=Object(I.a)(Xt()),aa=(a(170),function(e){var t=e.match.params.id;return c.a.createElement("div",null,"PRODUCT ID ",t)}),na=function(){return c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:Ve}),c.a.createElement(s.a,{exact:!0,path:"/login",component:nt}),c.a.createElement(s.a,{exact:!0,path:"/register",component:ot}),c.a.createElement(s.a,{exact:!0,path:"/forgot-password",component:st}),c.a.createElement(s.a,{exact:!0,path:"/restore-password",component:wt}),c.a.createElement(s.a,{exact:!0,path:"/profile",component:Gt}),c.a.createElement(s.a,{exact:!0,path:"/edit-profile",component:zt}),c.a.createElement(s.a,{exact:!0,path:"/saved-items",component:Yt}),c.a.createElement(s.a,{exact:!0,path:"/add-product",component:ea}),c.a.createElement(s.a,{exact:!0,path:"/products/:id",component:aa}))},ra=function(){return c.a.createElement(i.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(se,null),c.a.createElement("main",null,c.a.createElement(na,null)),c.a.createElement(de,null)),c.a.createElement(Ce,null))},ca={loginStatus:"NOT_LOGINED",registerStatus:"NOT_REGISTERED"},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REGISTER_STATUS":return Object(Oe.a)({},e,{registerStatus:t.payload.registerStatus});case"SET_LOGIN_STATUS":return Object(Oe.a)({},e,{registerStatus:t.payload.loginStatus});default:return e}},oa={searchQuery:{title:"",locationId:-1,category:"any",priceFrom:-1,priceTo:-1,page:1,limit:12},reactionSearchQuery:{title:"",locationId:-1,category:"any",priceFrom:-1,priceTo:-1,page:1,limit:12},searchProductsHintQuery:{title:""}},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PRODUCTS_SEARCH_QUERY":return Object(Oe.a)({},e,{searchQuery:Object(Oe.a)({},e.searchQuery,{},t.payload.changes)});case"SEARCH_PRODUCTS":return Object(Oe.a)({},e,{reactionSearchQuery:t.payload.searchQuery});case"SEARCH_PRODUCTS_HINT":return Object(Oe.a)({},e,{searchProductsHintQuery:Object(Oe.a)({},e.searchProductsHintQuery,{title:t.payload.title})});default:return e}},ua=Object(Je.combineReducers)({user:la,products:ia}),sa=a(80),da=a(81),ma=Object(Je.createStore)(ua,Object(da.composeWithDevTools)(Object(Je.applyMiddleware)(sa.a))),pa=a(24),fa=a(34),va=a(17),ga=a(82),Ea=new pa.a({link:Object(ga.createUploadLink)({uri:v+"/graphql",credentials:"include"}),cache:new fa.a({dataIdFromObject:function(e){return e.id}}),credentials:"include"});o.a.render(c.a.createElement(te.a,{store:ma},c.a.createElement(va.a,{client:Ea},c.a.createElement(c.a.StrictMode,null,c.a.createElement(ra,null)))),document.getElementById("root"))}]),[[83,1,2]]]);
//# sourceMappingURL=main.a9a18c83.chunk.js.map